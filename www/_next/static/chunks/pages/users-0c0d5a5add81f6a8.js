(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2892],{3600:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var o=(0,t(853).Z)("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])},8861:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var o=(0,t(853).Z)("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]])},1904:function(e,r,t){"use strict";t.d(r,{Z:function(){return v}});var o=t(7937),n=t(4184),l=t.n(n),a=t(7294),s=t(8787),c=t(5353),i=t(3124),u=t(4747),d=t(8719),p=t(7968),h=t(5503);let m=(e,r,t)=>{let o=function(e){if("string"!=typeof e)return e;let r=e.charAt(0).toUpperCase()+e.slice(1);return r}(t);return{[`${e.componentCls}-${r}`]:{color:e[`color${t}`],background:e[`color${o}Bg`],borderColor:e[`color${o}Border`]}}},g=e=>(0,d.Z)(e,(r,t)=>{let{textColor:o,lightBorderColor:n,lightColor:l,darkColor:a}=t;return{[`${e.componentCls}-${r}`]:{color:o,background:l,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:a,borderColor:a},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),b=e=>{let{paddingXXS:r,lineWidth:t,tagPaddingHorizontal:o,componentCls:n}=e,l=o-t;return{[n]:Object.assign(Object.assign({},(0,u.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:l,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${n}-close-icon`]:{marginInlineStart:r-t,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:l}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}};var f=(0,p.Z)("Tag",e=>{let{fontSize:r,lineHeight:t,lineWidth:o,fontSizeIcon:n}=e,l=e.fontSizeSM,a=e.colorFillQuaternary,s=e.colorText,c=(0,h.TS)(e,{tagFontSize:l,tagLineHeight:Math.round(r*t)-2*o,tagDefaultBg:a,tagDefaultColor:s,tagIconSize:n-2*o,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[b(c),g(c),m(c,"success","Success"),m(c,"processing","Info"),m(c,"error","Error"),m(c,"warning","Warning")]}),y=function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>r.indexOf(o)&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>r.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]]);return t};let x=e=>{let{prefixCls:r,className:t,checked:o,onChange:n,onClick:s}=e,c=y(e,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:u}=a.useContext(i.E_),d=e=>{null==n||n(!o),null==s||s(e)},p=u("tag",r),[h,m]=f(p),g=l()(p,{[`${p}-checkable`]:!0,[`${p}-checkable-checked`]:o},t,m);return h(a.createElement("span",Object.assign({},c,{className:g,onClick:d})))};var C=function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>r.indexOf(o)&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>r.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]]);return t};let k=(e,r)=>{let{prefixCls:t,className:n,rootClassName:u,style:d,children:p,icon:h,color:m,onClose:g,closeIcon:b,closable:y=!1,bordered:x=!0}=e,k=C(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:j,direction:v}=a.useContext(i.E_),[Z,S]=a.useState(!0);a.useEffect(()=>{"visible"in k&&S(k.visible)},[k.visible]);let w=(0,s.o2)(m)||(0,s.yT)(m),$=Object.assign({backgroundColor:m&&!w?m:void 0},d),O=j("tag",t),[P,E]=f(O),N=l()(O,{[`${O}-${m}`]:w,[`${O}-has-color`]:m&&!w,[`${O}-hidden`]:!Z,[`${O}-rtl`]:"rtl"===v,[`${O}-borderless`]:!x},n,u,E),_=e=>{e.stopPropagation(),null==g||g(e),e.defaultPrevented||S(!1)},I=a.useMemo(()=>y?b?a.createElement("span",{className:`${O}-close-icon`,onClick:_},b):a.createElement(o.Z,{className:`${O}-close-icon`,onClick:_}):null,[y,b,O,_]),T="function"==typeof k.onClick||p&&"a"===p.type,z=h||null,M=z?a.createElement(a.Fragment,null,z,a.createElement("span",null,p)):p,A=a.createElement("span",Object.assign({},k,{ref:r,className:N,style:$}),M,I);return P(T?a.createElement(c.Z,null,A):A)},j=a.forwardRef(k);j.CheckableTag=x;var v=j},7787:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return t(8077)}])},8077:function(e,r,t){"use strict";t.r(r);var o=t(5893),n=t(7294),l=t(1664),a=t.n(l);t(7484);var s=t(9014),c=t(9965),i=t(1552),u=t(7790),d=t(6713),p=t(7911),h=t(1904),m=t(3013),g=t(1577),b=t(8508),f=t(1230),y=t(5746),x=t(9531),C=t(4749);t(3600);var k=t(8861),j=t(7225),v=t(7089),Z=t(5961);let{confirm:S}=s.Z,{Text:w}=c.Z,$=()=>{let[e]=i.Z.useForm(),[r,t]=(0,n.useState)("create"),[l,s]=(0,n.useState)(!0),[c,S]=(0,n.useState)([]),[w,$]=(0,n.useState)({}),[O,P]=(0,n.useState)({}),[E,N]=(0,n.useState)(!1),_=i.Z.useWatch([],e),I=()=>{N(!1),$()},T=(0,n.useCallback)(e=>{(0,Z.AW)(e).then(e=>{let{data:r}=e;S(r||[])}).finally(()=>{s(!1)})},[]);(0,n.useEffect)(()=>{T(_)},[T,_]);let z=async e=>{"update"==r?(console.log(c),await (0,Z.Nq)(w.id,{data:e}).then(e=>{let{res:r}=e;N(!1),t(),T(),null!==r&&u.ZP.success("Cliente modificato con successo")}).catch(e=>{u.ZP.error(e)})):await (0,Z.r4)({data:e}).then(e=>{let{res:r}=e;N(!1),T(),null!==r&&u.ZP.success("Cliente creato con successo")}).catch(e=>{console.log("catch-error")})},M=[{key:"1",label:(0,o.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.antgroup.com",children:"1st menu item"})},{key:"2",label:(0,o.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.aliyun.com",children:"2nd menu item"})},{key:"3",label:(0,o.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.luohanacademy.com",children:"3rd menu item"})}];return(0,o.jsxs)("div",{className:"page",children:[!!E&&(0,o.jsx)(v.Z,{opened:E,onClose:I,data:w,method:r,onSubmit:e=>z(e)}),(0,o.jsx)(j.m,{breadcrumbs:[{content:"Utenti",url:"/users"}],title:"Utenti",linkUser:{content:"Aggiungi",url:"/users/create"},children:(0,o.jsx)(b.Z,{mode:"horizontal",items:[{label:(0,o.jsx)(a(),{href:"/users",children:"Lista utenti"}),key:"/companies"},{label:(0,o.jsx)(a(),{href:"/teams",children:"Team"}),key:"/groups"}]})}),(0,o.jsx)(f.Z,{children:(0,o.jsxs)(y.Z,{span:24,children:[(0,o.jsx)("div",{id:"filter-bar",children:(0,o.jsx)(i.Z,{id:"filters",form:e,children:(0,o.jsx)(i.Z.Item,{name:"query",children:(0,o.jsx)(x.Z,{placeholder:"Cerca",allowClear:!0})})})}),(0,o.jsx)(C.Z,{columns:[{title:"Nome e Cognome",key:"first_name",render:e=>{let{id:r,first_name:t,last_name:n}=e;return(0,o.jsx)(a(),{href:"/users/"+r,children:(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(p.C,{size:"small",icon:(0,o.jsx)(k.Z,{className:"anticon"})}),"".concat(t," ").concat(n)]})})}},{title:"Email",key:"email",render:e=>{let{email:r}=e;return(0,o.jsx)("a",{children:r})}},{title:"Societ\xe0",key:"companies",dataIndex:"companies",render:e=>e&&e.length>1?e.map((e,r)=>(0,o.jsx)(h.Z,{children:null==e?void 0:e.title},r)):null},{title:"Azioni",key:"actions",align:"right",colSpan:1,classNam:"table-actions",render:e=>(0,o.jsx)(m.Z,{menu:{items:M},trigger:["click"],placement:"bottomRight",arrow:{pointAtCenter:!0},children:(0,o.jsx)(g.ZP,{children:"Azioni"})})}],dataSource:c,rowKey:"id",pagination:{position:["bottomCenter"],pageSize:50}})]})})]})};r.default=$},7089:function(e,r,t){"use strict";var o=t(5893);t(7294);var n=t(5265),l=t(1552),a=t(9531),s=t(2808),c=t(1577);let i=e=>{let{opened:r,toggle:t}=e,i=e=>{console.log("Success:",e)},u=e=>{console.log("Failed:",e)};return(0,o.jsx)(n.Z,{fullScreen:!0,title:"Aggiungi utente",open:r,onClose:t,centered:!0,children:(0,o.jsxs)(l.Z,{onFinish:i,onFinishFailed:u,autoComplete:"off",children:[(0,o.jsx)(l.Z.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:(0,o.jsx)(a.Z,{})}),(0,o.jsx)(l.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,o.jsx)(a.Z.Password,{})}),(0,o.jsx)(l.Z.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:(0,o.jsx)(s.Z,{children:"Remember me"})}),(0,o.jsx)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,o.jsx)(c.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})};r.Z=i}},function(e){e.O(0,[7225,8925,4749,5265,9774,2888,179],function(){return e(e.s=7787)}),_N_E=e.O()}]);