(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1192],{3600:function(t,e,a){"use strict";a.d(e,{Z:function(){return r}});var r=(0,a(853).Z)("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])},8861:function(t,e,a){"use strict";a.d(e,{Z:function(){return r}});var r=(0,a(853).Z)("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]])},5660:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contacts",function(){return a(5865)}])},7155:function(t,e,a){"use strict";a.d(e,{GK:function(){return o},Tk:function(){return i},cX:function(){return c},mk:function(){return n},rE:function(){return s}});var r=a(6726);let n=async t=>{try{let e={params:{populate:"*",filters:{title:{$containsi:null==t?void 0:t.query}}}};0===Object.keys(t).length&&delete e.params;let a=await r.ZP.get("/api/contacts",e);return a.data}catch(t){return"Failed to get data from API"}},c=async t=>{try{let e=await r.ZP.get("/api/contacts/".concat(t,"?populate=*"));return e.data}catch(t){throw Error("Failed to get data from API: ".concat(t.message))}},s=async t=>{try{let e=await r.ZP.post("/api/contacts",t);return e.data}catch(t){throw Error("Failed to get data from API: ".concat(t.message))}},i=async(t,e)=>{try{let a=await r.ZP.delete("/api/contacts/".concat(t),e);return a.data}catch(t){throw Error("Failed to get data from API: ".concat(t.message))}},o=async()=>{try{let t=await r.ZP.delete("/api/contacts?populate=*");return t.data}catch(t){throw Error("Failed to get data from API: ".concat(t.message))}}},5865:function(t,e,a){"use strict";a.r(e);var r=a(5893),n=a(7294),c=a(1664),s=a.n(c);a(7484);var i=a(9014),o=a(1552);a(7790);var l=a(6713),u=a(7911),d=a(1577),h=a(1230),f=a(5746),p=a(9531),m=a(4749);a(3600);var y=a(8861),g=a(7225),Z=a(7155);let{confirm:j}=i.Z,x=()=>{let[t]=o.Z.useForm(),[e,a]=(0,n.useState)("create"),[c,i]=(0,n.useState)(!0),[j,x]=(0,n.useState)([]),[v,k]=(0,n.useState)({}),[w,P]=(0,n.useState)({}),[_,E]=(0,n.useState)(!1),C=o.Z.useWatch([],t),N=(0,n.useCallback)(t=>{(0,Z.mk)(t).then(t=>{let{data:e}=t;x(e||[])}).finally(()=>{i(!1)})},[]);return(0,n.useEffect)(()=>{N(C)},[N,C]),(0,r.jsxs)("div",{className:"page",children:[(0,r.jsx)(g.m,{title:"Contatti",extra:[(0,r.jsx)(s(),{href:"/contacts/create",children:(0,r.jsx)(d.ZP,{type:"primary",children:"Aggiungi"})},"1")]}),(0,r.jsx)(h.Z,{children:(0,r.jsxs)(f.Z,{span:24,children:[(0,r.jsx)("div",{id:"filter-bar",children:(0,r.jsx)(o.Z,{id:"filters",form:t,children:(0,r.jsx)(o.Z.Item,{name:"query",children:(0,r.jsx)(p.Z,{placeholder:"Cerca",allowClear:!0})})})}),(0,r.jsx)(m.Z,{columns:[{title:"Nome",key:"first_name",render:t=>{let{id:e,first_name:a,last_name:n}=t;return(0,r.jsx)(s(),{href:"/contacts/"+e,children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.C,{size:"small",shape:"square",icon:(0,r.jsx)(y.Z,{className:"anticon"})}),"".concat(a," ").concat(n)]})})}},{title:"Email",key:"email",render:t=>{let{email:e}=t;return(0,r.jsx)("a",{children:e})}},{title:"Cliente",key:"customer",render:t=>{let{id:e,customer:a}=t;return a&&(0,r.jsx)("a",{children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.C,{shape:"square",icon:(0,r.jsx)(y.Z,{className:"anticon"})}),null==a?void 0:a.title]})})}}],dataSource:j,rowKey:"id",pagination:{pageSize:50,position:["bottomCenter"]}})]})})]})};e.default=x}},function(t){t.O(0,[7225,8925,4749,9774,2888,179],function(){return t(t.s=5660)}),_N_E=t.O()}]);