(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8108],{1214:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=(0,r(853).Z)("compass","IconCompass",[["path",{d:"M8 16l2 -6l6 -2l-2 6l-6 2",key:"svg-0"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-1"}],["path",{d:"M12 3l0 2",key:"svg-2"}],["path",{d:"M12 19l0 2",key:"svg-3"}],["path",{d:"M3 12l2 0",key:"svg-4"}],["path",{d:"M19 12l2 0",key:"svg-5"}]])},7369:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=(0,r(853).Z)("users-group","IconUsersGroup",[["path",{d:"M10 13a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M8 21v-1a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v1",key:"svg-1"}],["path",{d:"M15 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-2"}],["path",{d:"M17 10h2a2 2 0 0 1 2 2v1",key:"svg-3"}],["path",{d:"M5 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-4"}],["path",{d:"M3 13v-1a2 2 0 0 1 2 -2h2",key:"svg-5"}]])},6074:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(4184),a=r.n(n),i=r(7294),l=r(3124),o=r(7968),s=r(5503),d=r(4747);let c=e=>{let{componentCls:t,sizePaddingEdgeHorizontal:r,colorSplit:n,lineWidth:a}=e;return{[t]:Object.assign(Object.assign({},(0,d.Wf)(e)),{borderBlockStart:`${a}px solid ${n}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${e.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${a}px solid ${n}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${e.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${e.dividerHorizontalWithTextGutterMargin}px 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${n}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${a}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${t}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:`${a}px 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStart:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:r}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:r}}})}};var u=(0,o.Z)("Divider",e=>{let t=(0,s.TS)(e,{dividerVerticalGutterMargin:e.marginXS,dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG});return[c(t)]},{sizePaddingEdgeHorizontal:0}),h=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let p=e=>{let{getPrefixCls:t,direction:r}=i.useContext(l.E_),{prefixCls:n,type:o="horizontal",orientation:s="center",orientationMargin:d,className:c,rootClassName:p,children:m,dashed:f,plain:g}=e,x=h(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain"]),v=t("divider",n),[b,j]=u(v),y=s.length>0?`-${s}`:s,Z=!!m,w="left"===s&&null!=d,$="right"===s&&null!=d,k=a()(v,j,`${v}-${o}`,{[`${v}-with-text`]:Z,[`${v}-with-text${y}`]:Z,[`${v}-dashed`]:!!f,[`${v}-plain`]:!!g,[`${v}-rtl`]:"rtl"===r,[`${v}-no-default-orientation-margin-left`]:w,[`${v}-no-default-orientation-margin-right`]:$},c,p),_=Object.assign(Object.assign({},w&&{marginLeft:d}),$&&{marginRight:d});return b(i.createElement("div",Object.assign({className:k},x,{role:"separator"}),m&&"vertical"!==o&&i.createElement("span",{className:`${v}-inner-text`,style:_},m)))};var m=p},6384:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/[id]",function(){return r(3043)}])},3941:function(e,t,r){"use strict";r.d(t,{ds:function(){return i},e5:function(){return o},j1:function(){return s},oR:function(){return d},tI:function(){return l}});var n=r(6726),a=r(7790);let i=async e=>{try{null==e||e.query;let t=await n.ZP.get("/api/companies?populate=*");return t.data}catch(e){return a.ZP.open({type:"error",content:"Errore"})}},l=async e=>{try{let t=await n.ZP.get("/api/companies/".concat(e,"?populate=*"));return t.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},o=async e=>{try{let t=await n.ZP.post("/api/companies/",e);return t.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},s=async(e,t)=>{try{let r=await n.ZP.delete("/api/companies/".concat(e),t);return r.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},d=async()=>{try{let e=await n.ZP.delete("/api/companies?populate=*");return e.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}}},3043:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var n=r(5893),a=r(7294),i=r(1664),l=r.n(i),o=r(1163),s=r(4436),d=r(9965),c=r(1552),u=r(7790),h=r(8508),p=r(1230),m=r(5746),f=r(9531),g=r(7911),x=r(6074),v=r(1158),b=r(7225),j=r(5961),y=r(7484),Z=r(5318),w=r(8057),$=r(7369),k=r(1214);w.Z,$.Z,k.Z;let{Meta:_}=s.Z,{Text:z}=d.Z,S=()=>{let e=(0,o.useRouter)(),{id:t}=e.query,[r,i]=(0,a.useState)(!0),[d,w]=(0,a.useState)({}),[$,k]=(0,a.useState)([]),[S]=c.Z.useForm(),[I,E]=(0,a.useState)();(0,a.useEffect)(()=>{(0,j.GA)(t).then(e=>{var t,r;let{data:n}=e;i(!0),w(n),S.setFieldsValue({first_name:null==n?void 0:n.first_name,last_name:null==n?void 0:n.last_name,description:null==n?void 0:n.description,website:null==n?void 0:n.website,phone_number:null==n?void 0:n.phone_number,email:null==n?void 0:n.email,type:null==n?void 0:n.type,vat_number:null==n?void 0:n.vat_number,city:null==n?void 0:null===(t=n.address)||void 0===t?void 0:t.city,formatted_address:null==n?void 0:null===(r=n.address)||void 0===r?void 0:r.formatted_address})}).finally(()=>{i(!1)})},[t]);let M=e=>{(0,j.Nq)(t,{data:e}).then(e=>{let{res:t}=e;null!==t&&u.ZP.success("Utente aggiornato con successo")}).catch(e=>{u.ZP.error(null==e?void 0:e.message)})};return(0,n.jsxs)("div",{className:"page",children:[(0,n.jsx)(b.m,{backLink:"/users",title:"".concat(d.first_name," ").concat(d.last_name),children:(0,n.jsx)(h.Z,{mode:"horizontal",items:[{label:(0,n.jsx)(l(),{href:"/users/".concat(d.id),children:"Dettagli"}),key:"/projects"},{label:(0,n.jsx)(l(),{href:"/users/".concat(d.id,"/dashboard"),children:"Bacheca"}),key:"/dashboard"},{label:(0,n.jsx)(l(),{href:"/users/".concat(d.id,"/hours"),children:"Ore"}),key:"/contacts"}]})}),(0,n.jsxs)(p.Z,{gutter:16,children:[(0,n.jsx)(m.Z,{span:16,children:(0,n.jsxs)(c.Z,{name:"update-winery",onFinish:M,layout:"vertical",form:S,children:[(0,n.jsxs)(s.Z,{title:"Informazioni",className:"mb-3",children:[(0,n.jsxs)(p.Z,{gutter:8,children:[(0,n.jsx)(m.Z,{span:18,children:(0,n.jsx)(c.Z.Item,{name:"first_name",label:"Nome",rules:[{required:!0}],children:(0,n.jsx)(f.Z,{})})}),(0,n.jsx)(m.Z,{span:6,children:(0,n.jsx)(c.Z.Item,{name:"last_name",label:"Cognome",rules:[{required:!0}],children:(0,n.jsx)(f.Z,{})})})]}),(0,n.jsxs)(p.Z,{gutter:8,children:[(0,n.jsx)(m.Z,{span:12,children:(0,n.jsx)(c.Z.Item,{name:"email",label:"E-mail",rules:[{required:!0}],children:(0,n.jsx)(f.Z,{})})}),(0,n.jsx)(m.Z,{span:12,children:(0,n.jsx)(c.Z.Item,{name:"phone_number",label:"Telefono",rules:[{required:!0}],children:(0,n.jsx)(f.Z,{})})})]}),(0,n.jsx)(p.Z,{gutter:8,children:(0,n.jsx)(m.Z,{span:12,children:(0,n.jsx)(Z.Z,{handleChange:k})})}),(0,n.jsx)(c.Z.Item,{name:"description",label:"Descrizione",children:(0,n.jsx)(f.Z.TextArea,{rows:6})})]}),(0,n.jsx)(s.Z,{title:"Localit\xe0",className:"mb-3",children:(0,n.jsx)(c.Z.Item,{name:"city",label:"Indirizzo",children:(0,n.jsx)(f.Z,{})})})]})}),(0,n.jsx)(m.Z,{span:8,children:(0,n.jsxs)(s.Z,{title:"Dettagli",className:"mb-3",children:[(0,n.jsx)(_,{avatar:(0,n.jsx)(g.C,{children:"U"}),title:"Card title",description:"This is the description"}),(0,n.jsx)(x.Z,{}),(0,n.jsx)(v.ZP,{className:"demo-loadmore-list",itemLayout:"horizontal",children:(0,n.jsxs)(v.ZP.Item,{children:[(0,n.jsx)(v.ZP.Item.Meta,{title:"Data creazione"}),(0,n.jsx)("div",{children:(0,n.jsx)(z,{strong:!0,children:(0,n.jsx)("a",{href:"#",children:y(d.createdAt).format("DD-MM-YYYY")})})})]})})]})})]})]})};var I=S},5318:function(e,t,r){"use strict";var n=r(5893),a=r(7294),i=r(5022),l=r(3941);let o=()=>{let[e,t]=(0,a.useState)(!0),[r,o]=(0,a.useState)([]);return(0,a.useEffect)(()=>{(0,l.ds)().then(e=>{let{data:t}=e;o((null==t?void 0:t.map(e=>({label:null==e?void 0:e.title,value:null==e?void 0:e.id})))||[])}).finally(()=>{t(!1)})},[]),(0,n.jsx)(i.Z,{mode:"multiple",options:r,placeholder:"Seleziona",optionLabelProp:"label"})};t.Z=o}},function(e){e.O(0,[7225,4436,8925,1158,9774,2888,179],function(){return e(e.s=6384)}),_N_E=e.O()}]);