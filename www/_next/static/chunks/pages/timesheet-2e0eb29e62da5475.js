(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8022],{5075:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/timesheet",function(){return a(978)}])},978:function(e,t,a){"use strict";a.r(t);var o=a(5893),s=a(7294),n=a(1163),l=a(2400),r=a(9965),i=a(6713),u=a(1230),c=a(6074),f=a(1577),d=a(7225),h=a(5961),m=a(7779);a(5318);var Y=a(7484),p=a.n(Y),g=a(4361),x=a(2800);let{RangePicker:j}=l.Z,{Text:_,Title:D}=r.Z,w=()=>{let e=(0,n.useRouter)(),{id:t}=e.query,[a,l]=(0,s.useState)(!0),[r,Y]=(0,s.useState)([]),[D,w]=(0,s.useState)(!1),[M,N]=(0,s.useState)(null),[Z,v]=(0,s.useState)({from:p()().startOf("month").format("YYYY-MM-DD"),to:p()().format("YYYY-MM-DD")}),S=e=>{if(!Z)return!1;let t=Z.from&&e.diff(Z.to,"days")>0;return!!t};(0,s.useEffect)(()=>{console.log("selected-parent-hour",M)},[M]);let b=e=>{w(!D),N(e)},E=(0,s.useCallback)(()=>{(0,m.Zg)().then(e=>{let{data:t}=e;Y(t||[])}).finally(()=>{l(!1)})},[t,M]);(0,s.useEffect)(()=>{E()},[E]);let y=e=>{(0,h.Nq)(t,{data:e}).then(e=>{let{res:t}=e;null!==t&&notifications.show({title:"Il progetto \xe8 stato eliminato"})}).catch(e=>{message.error(null==e?void 0:e.message)})},C=t=>{(0,h.h8)(t).then(t=>{let{res:a}=t;setPopupConfirm(!1),e.push("/timesheet"),null!==a&&notifications.show({title:"Il progetto \xe8 stato eliminato"})}).catch(e=>{notifications.show({title:e})})};return(0,o.jsxs)(o.Fragment,{children:[D&&(0,o.jsx)(x.Z,{opened:D,data:M,toggle:b,onSumbit:y,onDelete:C}),(0,o.jsxs)("div",{className:"page",children:[(0,o.jsx)(d.m,{title:"Ore Loggate",children:(0,o.jsx)("div",{className:"page-subhead_root",children:(0,o.jsx)(i.Z,{children:(0,o.jsx)(j,{size:"middle",allowClear:!0,disabledDate:S,defaultValue:[Z.from,Z.to],format:"YYYY-MM-DD",value:[p()(Z.from),p()(Z.to)],onChange:e=>v({from:p()(e[0]).format("YYYY-MM-DD"),to:p()(e[1]).format("YYYY-MM-DD")})})})})}),(0,o.jsx)("div",{className:"page-content",children:(0,o.jsxs)("section",{children:[(0,o.jsx)(g.Z,{data:r,onSelect:b,toggle:b}),(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(c.Z,{my:"sm"}),(0,o.jsx)(f.ZP,{type:"primary",children:"Submit for approval"}),(0,o.jsx)(_,{children:"Le ore saranno controllate in automatico alla scadenza"})]})]})})]})]})};t.default=w}},function(e){e.O(0,[7225,4436,3028,9774,2888,179],function(){return e(e.s=5075)}),_N_E=e.O()}]);