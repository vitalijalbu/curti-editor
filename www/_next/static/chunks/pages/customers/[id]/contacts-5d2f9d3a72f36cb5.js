(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5279],{3600:function(t,e,a){"use strict";a.d(e,{Z:function(){return r}});var r=(0,a(853).Z)("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])},8861:function(t,e,a){"use strict";a.d(e,{Z:function(){return r}});var r=(0,a(853).Z)("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]])},6890:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers/[id]/contacts",function(){return a(8643)}])},7155:function(t,e,a){"use strict";a.d(e,{GK:function(){return i},Tk:function(){return o},cX:function(){return c},mk:function(){return n},rE:function(){return s}});var r=a(6726);let n=async t=>{try{let e={params:{populate:"*",filters:{title:{$containsi:null==t?void 0:t.query}}}};0===Object.keys(t).length&&delete e.params;let a=await r.ZP.get("/api/contacts",e);return a.data}catch(t){return"Failed to get data from API"}},c=async t=>{try{let e=await r.ZP.get("/api/contacts/".concat(t,"?populate=*"));return e.data}catch(t){throw Error("Failed to get data from API: ".concat(t.message))}},s=async t=>{try{let e=await r.ZP.post("/api/contacts",t);return e.data}catch(t){throw Error("Failed to get data from API: ".concat(t.message))}},o=async(t,e)=>{try{let a=await r.ZP.delete("/api/contacts/".concat(t),e);return a.data}catch(t){throw Error("Failed to get data from API: ".concat(t.message))}},i=async()=>{try{let t=await r.ZP.delete("/api/contacts?populate=*");return t.data}catch(t){throw Error("Failed to get data from API: ".concat(t.message))}}},8643:function(t,e,a){"use strict";a.r(e);var r=a(5893),n=a(7294),c=a(1664),s=a.n(c);a(7484);var o=a(9014),i=a(1552);a(7790);var l=a(6713),u=a(7911),d=a(3013),h=a(1577),m=a(1230),p=a(5746),f=a(9531),g=a(4749);a(3600);var y=a(8861),w=a(7225),k=a(7155);let{confirm:Z}=o.Z,j=()=>{let[t]=i.Z.useForm(),[e,a]=(0,n.useState)("create"),[c,o]=(0,n.useState)(!0),[Z,j]=(0,n.useState)([]),[x,v]=(0,n.useState)({}),[b,_]=(0,n.useState)({}),[C,P]=(0,n.useState)(!1),E=i.Z.useWatch([],t),A=(0,n.useCallback)(t=>{(0,k.mk)(t).then(t=>{let{data:e}=t;j(e||[])}).finally(()=>{o(!1)})},[]);(0,n.useEffect)(()=>{A(E)},[A,E]);let N=[{key:"1",label:(0,r.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.antgroup.com",children:"1st menu item"})},{key:"2",label:(0,r.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.aliyun.com",children:"2nd menu item"})},{key:"3",label:(0,r.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.luohanacademy.com",children:"3rd menu item"})}];return(0,r.jsxs)("div",{className:"page",children:[(0,r.jsx)(w.m,{breadcrumbs:[{content:"Contatti",url:"/contacts"}],title:"Contatti",linkContact:{content:"Aggiungi",url:"/contacts/create"}}),(0,r.jsx)(m.Z,{children:(0,r.jsxs)(p.Z,{span:24,children:[(0,r.jsx)("div",{id:"filter-bar",children:(0,r.jsx)(i.Z,{id:"filters",form:t,children:(0,r.jsx)(i.Z.Item,{name:"query",children:(0,r.jsx)(f.Z,{placeholder:"Cerca",allowClear:!0})})})}),(0,r.jsx)(g.Z,{columns:[{title:"Nome",key:"title",render:t=>{let{id:e,first_name:a,last_name:n}=t;return(0,r.jsx)(s(),{href:"/contacts/"+e,children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.C,{size:"small",shape:"square",icon:(0,r.jsx)(y.Z,{className:"anticon"})}),"".concat(a," ").concat(n)]})})}},{title:"Cliente",key:"customer",render:t=>{let{id:e,customer:a}=t;return a&&(0,r.jsx)("a",{children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.C,{shape:"square",icon:(0,r.jsx)(y.Z,{className:"anticon"})}),null==a?void 0:a.title]})})}},{title:"Azioni",key:"actions",align:"right",colSpan:1,classNam:"table-actions",render:t=>(0,r.jsx)(d.Z,{menu:{items:N},trigger:["click"],placement:"bottomRight",arrow:{pointAtCenter:!0},children:(0,r.jsx)(h.ZP,{children:"Azioni"})})}],dataSource:Z,rowKey:"id",pagination:{pageSize:50,position:["bottomCenter"]}})]})})]})};e.default=j}},function(t){t.O(0,[7225,8925,4749,9774,2888,179],function(){return t(t.s=6890)}),_N_E=t.O()}]);