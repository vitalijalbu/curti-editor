(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7342],{2437:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers/[id]",function(){return s(5012)}])},5012:function(e,l,s){"use strict";s.r(l);var t=s(5893),i=s(7294),n=s(1664),r=s.n(n),a=s(1163),d=s(4436),c=s(9965),o=s(1552),u=s(7790),m=s(1577),h=s(8508),x=s(1230),j=s(5746),Z=s(9531),p=s(5022),v=s(1158),b=s(7225),f=s(8862),_=s(7484);let{Meta:g}=d.Z,{Text:y}=c.Z,I=()=>{let e=(0,a.useRouter)(),{id:l}=e.query,[s,n]=(0,i.useState)(!0),[c,g]=(0,i.useState)({}),[I,w]=(0,i.useState)([]),[N]=o.Z.useForm(),[P,z]=(0,i.useState)();(0,i.useEffect)(()=>{(0,f.$k)(l).then(e=>{var l,s;let{data:t}=e;n(!0),g(t),N.setFieldsValue({title:null==t?void 0:t.title,description:null==t?void 0:t.description,website:null==t?void 0:t.website,phone_number:null==t?void 0:t.phone_number,email:null==t?void 0:t.email,type:null==t?void 0:t.type,vat_number:null==t?void 0:t.vat_number,city:null==t?void 0:null===(l=t.address)||void 0===l?void 0:l.city,formatted_address:null==t?void 0:null===(s=t.address)||void 0===s?void 0:s.formatted_address})}).finally(()=>{n(!1)})},[l]);let E=e=>{(0,f.uG)(l,{data:e}).then(e=>{let{res:l}=e;null!==l&&u.ZP.success("Utente aggiornato con successo")}).catch(e=>{u.ZP.error(null==e?void 0:e.message)})};return(0,t.jsxs)("div",{className:"page",children:[(0,t.jsx)("div",{className:"page-head",children:(0,t.jsx)(b.m,{ghost:!1,title:null==c?void 0:c.title,extra:[(0,t.jsx)(m.ZP,{type:"primary",children:"Salva"},"1"),(0,t.jsx)(m.ZP,{danger:!0,type:"text",children:"Elimina"},"2")],children:(0,t.jsx)(h.Z,{mode:"horizontal",items:[{label:(0,t.jsx)(r(),{href:"/customers/".concat(c.id),children:"Dettagli"}),key:"/projects"},{label:(0,t.jsx)(r(),{href:"/customers/".concat(c.id,"/contacts"),children:"Contatti"}),key:"/contacts"}]})})}),(0,t.jsxs)(x.Z,{gutter:16,children:[(0,t.jsx)(j.Z,{span:16,children:(0,t.jsxs)(o.Z,{name:"update-winery",onFinish:E,layout:"vertical",form:N,children:[(0,t.jsxs)(d.Z,{title:"Informazioni",className:"mb-3",children:[(0,t.jsxs)(x.Z,{gutter:8,children:[(0,t.jsx)(j.Z,{span:18,children:(0,t.jsx)(o.Z.Item,{name:"title",label:"Titolo",rules:[{required:!0}],children:(0,t.jsx)(Z.Z,{})})}),(0,t.jsx)(j.Z,{span:6,children:(0,t.jsx)(o.Z.Item,{name:"vat_number",label:"P.Iva",rules:[{required:!0}],children:(0,t.jsx)(Z.Z,{})})})]}),(0,t.jsxs)(x.Z,{gutter:8,children:[(0,t.jsx)(j.Z,{span:12,children:(0,t.jsx)(o.Z.Item,{name:"email",label:"E-mail",rules:[{required:!0}],children:(0,t.jsx)(Z.Z,{})})}),(0,t.jsx)(j.Z,{span:12,children:(0,t.jsx)(o.Z.Item,{name:"phone_number",label:"Telefono",rules:[{required:!0}],children:(0,t.jsx)(Z.Z,{})})})]}),(0,t.jsxs)(x.Z,{gutter:8,children:[(0,t.jsx)(j.Z,{span:16,children:(0,t.jsx)(o.Z.Item,{name:"website",label:"Sito web",children:(0,t.jsx)(Z.Z,{})})}),(0,t.jsx)(j.Z,{span:8,children:(0,t.jsx)(o.Z.Item,{name:"type",label:"Tipologia",rules:[{required:!0}],children:(0,t.jsx)(p.Z,{placeholder:"Seleziona tipologia",options:I})})})]}),(0,t.jsx)(o.Z.Item,{name:"description",label:"Descrizione",children:(0,t.jsx)(Z.Z.TextArea,{rows:6})})]}),(0,t.jsx)(d.Z,{title:"Localit\xe0",className:"mb-3",children:(0,t.jsx)(o.Z.Item,{name:"city",label:"Indirizzo",children:(0,t.jsx)(Z.Z,{})})})]})}),(0,t.jsx)(j.Z,{span:8,children:(0,t.jsx)(d.Z,{title:"Dettagli",className:"mb-3",children:(0,t.jsx)(v.ZP,{className:"demo-loadmore-list",itemLayout:"horizontal",children:(0,t.jsxs)(v.ZP.Item,{children:[(0,t.jsx)(v.ZP.Item.Meta,{title:"Data creazione"}),(0,t.jsx)("div",{children:(0,t.jsx)(y,{strong:!0,children:(0,t.jsx)("a",{href:"#",children:_(c.createdAt).format("DD-MM-YYYY")})})})]})})})})]})]})};l.default=I}},function(e){e.O(0,[7225,4436,8925,1158,9774,2888,179],function(){return e(e.s=2437)}),_N_E=e.O()}]);