(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3327],{3600:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var n=(0,a(853).Z)("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])},8291:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return a(7751)}])},7751:function(e,t,a){"use strict";a.r(t);var n=a(5893),r=a(7294),s=a(1664),c=a.n(s),l=a(7484),o=a(9014),i=a(1552),d=a(7790),u=a(6713),h=a(7911),p=a(9814),f=a(1577),j=a(1230),x=a(5746),m=a(4749);a(3600);var y=a(8836),Z=a(7225),b=a(6287),k=a(7469);let{confirm:g}=o.Z,v=()=>{let[e]=i.Z.useForm(),[t,a]=(0,r.useState)("create"),[s,o]=(0,r.useState)(!0),[g,v]=(0,r.useState)([]),[C,_]=(0,r.useState)({}),[w,S]=(0,r.useState)({}),[Y,A]=(0,r.useState)(!1),N=i.Z.useWatch([],e),E=()=>{A(!1),_()},M=(0,r.useCallback)(e=>{(0,k.Yw)(e).then(e=>{let{data:t}=e;v(t||[])}).finally(()=>{o(!1)})},[]);(0,r.useEffect)(()=>{M(N)},[M,N]);let P=async e=>{"update"==t?(console.log(g),await (0,k.ty)(C.id,{data:e}).then(e=>{let{res:t}=e;A(!1),a(),M(),null!==t&&d.ZP.success("Cliente modificato con successo")}).catch(e=>{d.ZP.error(e)})):await (0,k.$L)({data:e}).then(e=>{let{res:t}=e;A(!1),M(),null!==t&&d.ZP.success("Cliente creato con successo")}).catch(e=>{console.log("catch-error")})};return(0,n.jsxs)("div",{className:"page",children:[!!Y&&(0,n.jsx)(b.default,{opened:Y,onClose:E,data:C,method:t,onSubmit:e=>P(e)}),(0,n.jsx)(Z.m,{title:"Progetti",icon:(0,n.jsx)(y.Z,{}),items:[{label:"Elenco",url:"/projects"},{label:"Calendario",url:"/projects/calendar"},{label:"Report",url:"/projects/dashboard"}],extra:[(0,n.jsx)(c(),{href:"/projects/create",children:(0,n.jsx)(f.ZP,{type:"primary",children:"Aggiungi"})},"1")]}),(0,n.jsx)(j.Z,{children:(0,n.jsx)(x.Z,{span:24,children:(0,n.jsx)(m.Z,{columns:[{title:"Nome",key:"title",render:e=>{let{id:t,title:a,logo_img:r}=e;return(0,n.jsx)(c(),{href:"/projects/".concat(t),children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(h.C,{size:"small",shape:"square",style:{backgroundColor:"#fde3cf",color:"#f56a00"},icon:(0,n.jsx)(y.Z,{className:"anticon"})})," ",a]})})}},{title:"Societ\xe0",key:"company",dataIndex:"company",render:e=>(0,n.jsx)(c(),{href:"/settings/company/",children:null==e?void 0:e.title})},{title:"Cliente",key:"customer",dataIndex:"customer",render:e=>(0,n.jsx)(c(),{href:"/customers/".concat(null==e?void 0:e.id),children:null==e?void 0:e.title})},{title:"Data creazione",key:"publishedAt",dataIndex:"publishedAt",render:e=>(0,n.jsx)("p",{children:l(e).format("DD/MM/YYYY")})},{title:"Data creazione",key:"publishedAt",dataIndex:"publishedAt",render:e=>(0,n.jsx)("p",{children:l(e).format("DD/MM/YYYY")})},{title:"Avanzamento",key:"publishedAt",render:e=>(0,n.jsx)(p.Z,{percent:"41"})}],dataSource:g,rowKey:"id",pagination:{position:["bottomCenter"],pageSize:20}})})})]})};t.default=v}},function(e){e.O(0,[7225,8925,4749,9814,9774,2888,179],function(){return e(e.s=8291)}),_N_E=e.O()}]);