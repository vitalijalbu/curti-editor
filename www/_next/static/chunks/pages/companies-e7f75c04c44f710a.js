(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9782],{3600:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var o=(0,t(853).Z)("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])},1904:function(e,r,t){"use strict";t.d(r,{Z:function(){return j}});var o=t(7937),n=t(4184),a=t.n(n),l=t(7294),c=t(8787),i=t(5353),s=t(3124),d=t(4747),u=t(8719),p=t(7968),g=t(5503);let h=(e,r,t)=>{let o=function(e){if("string"!=typeof e)return e;let r=e.charAt(0).toUpperCase()+e.slice(1);return r}(t);return{[`${e.componentCls}-${r}`]:{color:e[`color${t}`],background:e[`color${o}Bg`],borderColor:e[`color${o}Border`]}}},f=e=>(0,u.Z)(e,(r,t)=>{let{textColor:o,lightBorderColor:n,lightColor:a,darkColor:l}=t;return{[`${e.componentCls}-${r}`]:{color:o,background:a,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:l,borderColor:l},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),y=e=>{let{paddingXXS:r,lineWidth:t,tagPaddingHorizontal:o,componentCls:n}=e,a=o-t;return{[n]:Object.assign(Object.assign({},(0,d.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:a,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${n}-close-icon`]:{marginInlineStart:r-t,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:a}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}};var m=(0,p.Z)("Tag",e=>{let{fontSize:r,lineHeight:t,lineWidth:o,fontSizeIcon:n}=e,a=e.fontSizeSM,l=e.colorFillQuaternary,c=e.colorText,i=(0,g.TS)(e,{tagFontSize:a,tagLineHeight:Math.round(r*t)-2*o,tagDefaultBg:l,tagDefaultColor:c,tagIconSize:n-2*o,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[y(i),f(i),h(i,"success","Success"),h(i,"processing","Info"),h(i,"error","Error"),h(i,"warning","Warning")]}),b=function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>r.indexOf(o)&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>r.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]]);return t};let k=e=>{let{prefixCls:r,className:t,checked:o,onChange:n,onClick:c}=e,i=b(e,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:d}=l.useContext(s.E_),u=e=>{null==n||n(!o),null==c||c(e)},p=d("tag",r),[g,h]=m(p),f=a()(p,{[`${p}-checkable`]:!0,[`${p}-checkable-checked`]:o},t,h);return g(l.createElement("span",Object.assign({},i,{className:f,onClick:u})))};var v=function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>r.indexOf(o)&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>r.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]]);return t};let x=(e,r)=>{let{prefixCls:t,className:n,rootClassName:d,style:u,children:p,icon:g,color:h,onClose:f,closeIcon:y,closable:b=!1,bordered:k=!0}=e,x=v(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:C,direction:j}=l.useContext(s.E_),[S,$]=l.useState(!0);l.useEffect(()=>{"visible"in x&&$(x.visible)},[x.visible]);let w=(0,c.o2)(h)||(0,c.yT)(h),P=Object.assign({backgroundColor:h&&!w?h:void 0},u),Z=C("tag",t),[E,O]=m(Z),M=a()(Z,{[`${Z}-${h}`]:w,[`${Z}-has-color`]:h&&!w,[`${Z}-hidden`]:!S,[`${Z}-rtl`]:"rtl"===j,[`${Z}-borderless`]:!k},n,d,O),I=e=>{e.stopPropagation(),null==f||f(e),e.defaultPrevented||$(!1)},N=l.useMemo(()=>b?y?l.createElement("span",{className:`${Z}-close-icon`,onClick:I},y):l.createElement(o.Z,{className:`${Z}-close-icon`,onClick:I}):null,[b,y,Z,I]),T="function"==typeof x.onClick||p&&"a"===p.type,_=g||null,A=_?l.createElement(l.Fragment,null,_,l.createElement("span",null,p)):p,F=l.createElement("span",Object.assign({},x,{ref:r,className:M,style:P}),A,N);return E(T?l.createElement(i.Z,null,F):F)},C=l.forwardRef(x);C.CheckableTag=k;var j=C},6213:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/companies",function(){return t(7169)}])},3941:function(e,r,t){"use strict";t.d(r,{ds:function(){return a},e5:function(){return c},j1:function(){return i},oR:function(){return s},tI:function(){return l}});var o=t(6726),n=t(7790);let a=async e=>{try{null==e||e.query;let r=await o.ZP.get("/api/companies?populate=*");return r.data}catch(e){return n.ZP.open({type:"error",content:"Errore"})}},l=async e=>{try{let r=await o.ZP.get("/api/companies/".concat(e,"?populate=*"));return r.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},c=async e=>{try{let r=await o.ZP.post("/api/companies/",e);return r.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},i=async(e,r)=>{try{let t=await o.ZP.delete("/api/companies/".concat(e),r);return t.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},s=async()=>{try{let e=await o.ZP.delete("/api/companies?populate=*");return e.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}}},7169:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return $}});var o=t(5893),n=t(7294),a=t(1664),l=t.n(a),c=t(7484),i=t(9014),s=t(9965),d=t(1552);t(7790);var u=t(6713),p=t(7911),g=t(1904),h=t(1577),f=t(8508),y=t(1230),m=t(5746),b=t(4749),k=t(7225);t(3600);var v=(0,t(853).Z)("building-skyscraper","IconBuildingSkyscraper",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M5 21v-14l8 -4v18",key:"svg-1"}],["path",{d:"M19 21v-10l-6 -4",key:"svg-2"}],["path",{d:"M9 9l0 .01",key:"svg-3"}],["path",{d:"M9 12l0 .01",key:"svg-4"}],["path",{d:"M9 15l0 .01",key:"svg-5"}],["path",{d:"M9 18l0 .01",key:"svg-6"}]]),x=t(3941);let{confirm:C}=i.Z,{Text:j}=s.Z,S=()=>{let[e]=d.Z.useForm(),[r,t]=(0,n.useState)("create"),[a,i]=(0,n.useState)(!0),[s,C]=(0,n.useState)([]),[j,S]=(0,n.useState)({}),[$,w]=(0,n.useState)({}),[P,Z]=(0,n.useState)(!1),E=d.Z.useWatch([],e),O=(0,n.useCallback)(e=>{(0,x.ds)(e).then(e=>{let{data:r}=e;C(r||[])}).finally(()=>{i(!1)})},[]);return(0,n.useEffect)(()=>{O(E)},[O,E]),(0,o.jsxs)("div",{className:"page",children:[(0,o.jsx)("div",{className:"page-head",children:(0,o.jsx)(k.m,{ghost:!1,title:"Societ\xe0",extra:[(0,o.jsx)(l(),{href:"/companies/create",children:(0,o.jsx)(h.ZP,{type:"primary",children:"Aggiungi"})},"1")],children:(0,o.jsx)(f.Z,{mode:"horizontal",items:[{label:(0,o.jsx)(l(),{href:"/companies",children:"Lista societ\xe0"}),key:"/companies"},{label:(0,o.jsx)(l(),{href:"/companies/groups",children:"Gruppi"}),key:"/groups"}]})})}),(0,o.jsx)(y.Z,{children:(0,o.jsx)(m.Z,{span:24,children:(0,o.jsx)(b.Z,{columns:[{title:"Ragione sociale",key:"title",render:e=>{let{id:r,title:t}=e;return(0,o.jsx)(l(),{href:"/companies/"+r,children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(p.C,{shape:"square",icon:(0,o.jsx)(v,{className:"anticon"})}),t]})})}},{title:"Societ\xe0 padre",key:"parent",render:e=>{let{id:r,parent:t}=e;return t&&(0,o.jsx)("a",{children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(p.C,{shape:"square",icon:(0,o.jsx)(v,{className:"anticon"})}),t.title]})})}},{title:"Gruppi",key:"groups",render:e=>{let{groups:r}=e;return r&&r.length>0?r.map((e,r)=>(0,o.jsx)(g.Z,{children:null==e?void 0:e.title},r)):null}},{title:"Data creazione",key:"createdAt",dataIndex:"createdAt",render:e=>(0,o.jsx)("p",{children:c(e).format("DD/MM/YYYY")})}],dataSource:s,rowKey:"id",pagination:{position:["bottomCenter"]}})})})]})};var $=S}},function(e){e.O(0,[7225,8925,4749,9774,2888,179],function(){return e(e.s=6213)}),_N_E=e.O()}]);