(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{1209:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var a=(0,r(853).Z)("chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]])},4534:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/companies/create",function(){return r(9555)}])},3941:function(e,t,r){"use strict";r.d(t,{ds:function(){return l},e5:function(){return i},j1:function(){return c},oR:function(){return o},tI:function(){return s}});var a=r(6726),n=r(7790);let l=async e=>{try{null==e||e.query;let t=await a.ZP.get("/api/companies?populate=*");return t.data}catch(e){return n.ZP.open({type:"error",content:"Errore"})}},s=async e=>{try{let t=await a.ZP.get("/api/companies/".concat(e,"?populate=*"));return t.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},i=async e=>{try{let t=await a.ZP.post("/api/companies/",e);return t.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},c=async(e,t)=>{try{let r=await a.ZP.delete("/api/companies/".concat(e),t);return r.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},o=async()=>{try{let e=await a.ZP.delete("/api/companies?populate=*");return e.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}}},2695:function(e,t,r){"use strict";r.d(t,{rR:function(){return l}});var a=r(6726),n=r(7790);let l=async e=>{try{let e=await a.ZP.get("/api/company-groups?populate=*");return e.data}catch(e){return n.ZP.open({type:"error",content:"Errore"})}}},9555:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var a=r(5893),n=r(7294),l=r(1664),s=r.n(l),i=r(1163),c=r(4436),o=r(9965),u=r(1552),d=r(7790),m=r(1577),h=r(1230),p=r(5746),Z=r(9531),x=r(1158),j=r(7225),f=r(3941),g=r(7484),y=r(5022),b=r(2695);let P=()=>{let[e,t]=(0,n.useState)(!0),[r,l]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(0,b.rR)().then(e=>{let{data:t}=e;l((null==t?void 0:t.map(e=>({label:null==e?void 0:e.title,value:null==e?void 0:e.id})))||[])}).finally(()=>{t(!1)})},[]),(0,a.jsx)(y.Z,{mode:"multiple",options:r,placeholder:"Seleziona",optionLabelProp:"label"})};var v=r(1209);let{Meta:w}=c.Z,{Text:I}=o.Z,_=()=>{let e=(0,i.useRouter)(),[t,r]=(0,n.useState)(!0),[l]=u.Z.useForm();console.log("form",l.getFieldsValue);let o=t=>{(0,f.e5)({data:t}).then(t=>{let{res:r}=t;null!==r&&(null==r?void 0:r.data)!==null&&(d.ZP.success("Societ\xe0 creata con successo"),e.push("/companies"))}).catch(e=>{d.ZP.error(null==e?void 0:e.message)})};return(0,a.jsx)("div",{className:"page",children:(0,a.jsxs)("div",{className:"page-head",children:[(0,a.jsx)(j.m,{onBack:()=>window.history.back(),backIcon:(0,a.jsx)(v.Z,{}),ghost:!1,title:"Aggiungi societ\xe0",extra:[(0,a.jsx)(m.ZP,{htmlType:"submit",form:"create-contact",type:"primary",onClick:()=>o(),children:"Salva"}),(0,a.jsx)(s(),{href:"/companies",children:(0,a.jsx)(m.ZP,{children:"Annulla"})},"2")]}),(0,a.jsxs)(h.Z,{gutter:16,children:[(0,a.jsx)(p.Z,{span:16,children:(0,a.jsxs)(u.Z,{name:"create-contact",onFinish:o,layout:"vertical",form:l,autoComplete:"off",children:[(0,a.jsxs)(c.Z,{title:"Informazioni",className:"mb-3",children:[(0,a.jsxs)(h.Z,{gutter:8,children:[(0,a.jsx)(p.Z,{span:18,children:(0,a.jsx)(u.Z.Item,{name:"title",label:"Ragione sociale",rules:[{required:!0}],children:(0,a.jsx)(Z.Z,{})})}),(0,a.jsx)(p.Z,{span:6,children:(0,a.jsx)(u.Z.Item,{name:"vat_number",label:"P.Iva",rules:[{required:!0}],children:(0,a.jsx)(Z.Z,{type:"number"})})})]}),(0,a.jsxs)(h.Z,{gutter:8,children:[(0,a.jsx)(p.Z,{span:12,children:(0,a.jsx)(u.Z.Item,{name:"email",label:"E-mail",rules:[{required:!0}],children:(0,a.jsx)(Z.Z,{type:"email"})})}),(0,a.jsx)(p.Z,{span:12,children:(0,a.jsx)(u.Z.Item,{name:"phone_number",label:"Telefono",rules:[{required:!0}],children:(0,a.jsx)(Z.Z,{type:"number"})})})]}),(0,a.jsxs)(h.Z,{gutter:8,children:[(0,a.jsx)(p.Z,{span:12,children:(0,a.jsx)(u.Z.Item,{name:"website",label:"Sito web",children:(0,a.jsx)(Z.Z,{type:"text"})})}),(0,a.jsx)(p.Z,{span:12,children:(0,a.jsx)(u.Z.Item,{name:"groups",label:"Gruppo",rules:[{required:!1}],children:(0,a.jsx)(P,{})})})]}),(0,a.jsx)(u.Z.Item,{name:"description",label:"Descrizione",children:(0,a.jsx)(Z.Z.TextArea,{rows:6})})]}),(0,a.jsx)(c.Z,{title:"Localit\xe0",className:"mb-3",children:(0,a.jsx)(u.Z.Item,{name:"city",label:"Indirizzo",children:(0,a.jsx)(Z.Z,{})})})]})}),(0,a.jsx)(p.Z,{span:8,children:(0,a.jsx)(c.Z,{title:"Dettagli",className:"mb-3",children:(0,a.jsx)(x.ZP,{className:"demo-loadmore-list",itemLayout:"horizontal",children:(0,a.jsxs)(x.ZP.Item,{children:[(0,a.jsx)(x.ZP.Item.Meta,{title:"Data creazione"}),(0,a.jsx)("div",{children:(0,a.jsx)(I,{strong:!0,children:(0,a.jsx)("a",{href:"#",children:g().format("DD-MM-YYYY")})})})]})})})})]})]})})};var E=_}},function(e){e.O(0,[7225,4436,8925,1158,9774,2888,179],function(){return e(e.s=4534)}),_N_E=e.O()}]);