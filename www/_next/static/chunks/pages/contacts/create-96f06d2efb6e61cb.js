(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{1209:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var n=(0,a(853).Z)("chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]])},3222:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contacts/create",function(){return a(2265)}])},7155:function(e,t,a){"use strict";a.d(t,{GK:function(){return i},Tk:function(){return l},cX:function(){return s},mk:function(){return r},rE:function(){return c}});var n=a(6726);let r=async e=>{try{let t={params:{populate:"*",filters:{title:{$containsi:null==e?void 0:e.query}}}};0===Object.keys(e).length&&delete t.params;let a=await n.ZP.get("/api/contacts",t);return a.data}catch(e){return"Failed to get data from API"}},s=async e=>{try{let t=await n.ZP.get("/api/contacts/".concat(e,"?populate=*"));return t.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},c=async e=>{try{let t=await n.ZP.post("/api/contacts",e);return t.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},l=async(e,t)=>{try{let a=await n.ZP.delete("/api/contacts/".concat(e),t);return a.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}},i=async()=>{try{let e=await n.ZP.delete("/api/contacts?populate=*");return e.data}catch(e){throw Error("Failed to get data from API: ".concat(e.message))}}},2265:function(e,t,a){"use strict";a.r(t);var n=a(5893),r=a(7294),s=a(1664),c=a.n(s),l=a(1163),i=a(4436),o=a(9965),d=a(1552),u=a(7790),h=a(1577),m=a(1230),Z=a(5746),x=a(9531),j=a(1158),p=a(7225),f=a(7155),g=a(7484),y=a(2968),b=a(1209);let{Meta:w}=i.Z,{Text:I}=o.Z,P=()=>{let e=(0,l.useRouter)(),[t,a]=(0,r.useState)(!0),[s]=d.Z.useForm();console.log("form",s.getFieldsValue);let o=t=>{(0,f.rE)({data:t}).then(t=>{let{res:a}=t;null!==a&&(null==a?void 0:a.data)!==null&&(u.ZP.success("Contatto creato con successo"),e.push("/contacts"))}).catch(e=>{u.ZP.error(null==e?void 0:e.message)})};return(0,n.jsx)("div",{className:"page",children:(0,n.jsxs)("div",{className:"page-head",children:[(0,n.jsx)(p.m,{onBack:()=>window.history.back(),backIcon:(0,n.jsx)(b.Z,{}),ghost:!1,title:"Aggiungi contatto",extra:[(0,n.jsx)(h.ZP,{htmlType:"submit",form:"create-contact",type:"primary",onClick:()=>o(),children:"Salva"}),(0,n.jsx)(c(),{href:"/contacts",children:(0,n.jsx)(h.ZP,{children:"Annulla"})},"2")]}),(0,n.jsxs)(m.Z,{gutter:16,children:[(0,n.jsx)(Z.Z,{span:16,children:(0,n.jsxs)(d.Z,{name:"create-contact",onFinish:o,layout:"vertical",form:s,autoComplete:"off",children:[(0,n.jsxs)(i.Z,{title:"Informazioni",className:"mb-3",children:[(0,n.jsxs)(m.Z,{gutter:8,children:[(0,n.jsx)(Z.Z,{span:18,children:(0,n.jsx)(d.Z.Item,{name:"title",label:"Ragione sociale",rules:[{required:!0}],children:(0,n.jsx)(x.Z,{})})}),(0,n.jsx)(Z.Z,{span:6,children:(0,n.jsx)(d.Z.Item,{name:"vat_number",label:"P.Iva",rules:[{required:!0}],children:(0,n.jsx)(x.Z,{type:"number"})})})]}),(0,n.jsxs)(m.Z,{gutter:8,children:[(0,n.jsx)(Z.Z,{span:12,children:(0,n.jsx)(d.Z.Item,{name:"email",label:"E-mail",rules:[{required:!0}],children:(0,n.jsx)(x.Z,{type:"email"})})}),(0,n.jsx)(Z.Z,{span:12,children:(0,n.jsx)(d.Z.Item,{name:"phone_number",label:"Telefono",rules:[{required:!0}],children:(0,n.jsx)(x.Z,{type:"number"})})})]}),(0,n.jsxs)(m.Z,{gutter:8,children:[(0,n.jsx)(Z.Z,{span:12,children:(0,n.jsx)(d.Z.Item,{name:"website",label:"Sito web",children:(0,n.jsx)(x.Z,{type:"text"})})}),(0,n.jsx)(Z.Z,{span:12,children:(0,n.jsx)(d.Z.Item,{name:"customer",label:"Cliente",rules:[{required:!1}],children:(0,n.jsx)(y.Z,{})})})]}),(0,n.jsx)(d.Z.Item,{name:"description",label:"Descrizione",children:(0,n.jsx)(x.Z.TextArea,{rows:6})})]}),(0,n.jsx)(i.Z,{title:"Localit\xe0",className:"mb-3",children:(0,n.jsx)(d.Z.Item,{name:"city",label:"Indirizzo",children:(0,n.jsx)(x.Z,{})})})]})}),(0,n.jsx)(Z.Z,{span:8,children:(0,n.jsx)(i.Z,{title:"Dettagli",className:"mb-3",children:(0,n.jsx)(j.ZP,{className:"demo-loadmore-list",itemLayout:"horizontal",children:(0,n.jsxs)(j.ZP.Item,{children:[(0,n.jsx)(j.ZP.Item.Meta,{title:"Data creazione"}),(0,n.jsx)("div",{children:(0,n.jsx)(I,{strong:!0,children:(0,n.jsx)("a",{href:"#",children:g().format("DD-MM-YYYY")})})})]})})})})]})]})})};t.default=P}},function(e){e.O(0,[7225,4436,8925,1158,9774,2888,179],function(){return e(e.s=3222)}),_N_E=e.O()}]);